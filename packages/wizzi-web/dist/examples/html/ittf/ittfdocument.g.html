<!doctype html>
<html>
<head>
    <link href="http://fonts.googleapis.com/css?family=Lato&subset=latin,latin-ext" rel="stylesheet" type="text/css" />
    <style>
        html {
            margin: 0;
            padding: 0;
            border: 0;
            vertical-align: baseline;
            font-family: "Lato",sans-serif;
            font-size: 16px;
            overflow-x: hidden;
            overflow-y: scroll;
            box-sizing: border-box;
        }
        body {
            font: 300 21px Lato, 'Helvetica Neue', Helvetica, Arial, sans-serif;
            color: #ddd;
            background-color: #333;
        }
        ul {
            margin-left: 0.45rem;
            margin-right: 0;
            margin-top: 0;
            padding: 0;
            margin-bottom: 1.45rem;
            list-style-position: outside;
            list-style-image: none;
        }
        a {
            text-decoration: none;
            color: #fc0;
            -webkit-transition: all 0.25s;
            -moz-transition: all 0.25s;
            -o-transition: all 0.25s;
            transition: all 0.25s;
        }
        a:hover {
            color: #da0;
        }
        article {
            background-color: #444;
            -webkit-border-radius: 10px;
            -khtml-border-radius: 10px;
            -moz-border-radius: 10px;
            -o-border-radius: 10px;
            border-radius: 10px;
            padding: 20px;
            margin: 0 10px;
            -webkit-box-shadow: 0 3px 10px rgba(0,0,0,0.1);
            -moz-box-shadow: 0 3px 10px rgba(0,0,0,0.1);
            -o-box-shadow: 0 3px 10px rgba(0,0,0,0.1);
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
            font-size: 16px;
        }
        @media (min-width: 768px) {
            article {
                padding: 40px 40px 30px;
                font-size: 21px;
            }
        }
        .doc-container {
            margin: 0 auto;
            width: 60%;
        }
        .doc-title {
            font-size: 1.5rem;
            font-weight: 600;
            border-bottom: 1px solid #999;
        }
        .ittf-panel-title {
            font-size: 1rem;
            font-weight: 700;
            margin-bottom: 2px;
        }
        @media (min-width: 768px) {
            .ittf-panel-title {
                font-size: 21px;
                font-weight: 700;
                margin-bottom: 4px;
            }
        }
        .link {
            float: 'right';
            paddingLeft: '10px';
        }
        .cheatsheet-page {
            display: -ms-flexbox;
            display: flex;
            padding: 25px;
            position: fixed;
            height: 100vh;
            width: 100%;
        }
        .cheatsheet-sidebar {
            display: -ms-flexbox;
            display: flex;
            min-width: 300px;
            margin: 5px;
            flex-direction: column;
            overflow: auto;
        }
        .cheatsheet-sidebar-schemas {
            display: -ms-flexbox;
            display: flex;
            flex-direction: column;
            border: 1px solid gray;
            margin-bottom: 5px;
        }
        .cheatsheet-sidebar-element-title {
            padding-left: 15px;
            font-weight: 600;
        }
        .cheatsheet-sidebar-items {
            border: 1px solid gray;
        }
        .cheatsheet-content {
            -ms-flex: 1 1 auto;
            flex: 1 1 auto;
            margin: 5px;
            overflow: auto;
        }
        .cheatsheet-item {
            display: -ms-flexbox;
            display: flex;
            background-color: #3e5a6d;
        }
        .cheatsheet-ittf {
            padding: 10px;
            border: 1px solid gray;
            margin: 5px;
            width: 50%;
        }
        .cheatsheet-ittf pre {
            width: 100%;
            padding: 10px;
        }
        .cheatsheet-generated {
            padding: 10px;
            border: 1px solid gray;
            margin: 5px;
            width: 50%;
            background-color: #dedede;
        }
        .cheatsheet-generated pre {
            width: 100%;
            padding: 10px;
        }
        .cheatsheet-element-title {
            background-color: #bbb;
            width: 100%;
            padding: 15px 5px 15px 15px;
            margin: 20px 0 10px 0;
            font-size: 1.2rem;
            font-weight: 600;
        }
        .cheatsheet-item-title {
            padding: 5px 10px 0px 10px;
            font-weight: 700;
        }
        /**
            ========================================
             WIZZI PRETTY PRINT
             ----------------------------------------
        */
        .pln {
            color: #F1F2F3;
        }
        .tag {
            color: #77f328;
        }
        .str {
            color: #EC7600;
        }
        .kwd {
            color: #f79256;
        }
        .com {
            color: #66747B;
        }
        .typ {
            color: #678CB1;
        }
        .lit {
            color: #FACD22;
        }
        .mix {
            color: #ff0040;
            cursor: pointer;
        }
        .tag {
            color: #77f328;
        }
        .atn {
            color: #E0E2E4;
        }
        .atv {
            color: #EC7600;
        }
        .expr {
            color: #f3e877;
        }
        .fun {
            color: red;
        }
        .arg {
            color: yellow;
        }
        .pp-ln {
            color: #999;
        }
        .pp-pln {
            color: #f1ebeb;
        }
        .pp-str {
            color: #EC7600;
        }
        .pp-kwd {
            color: #f79256;
        }
        .pp-com {
            color: #66747B;
        }
        .pp-typ {
            color: #678CB1;
        }
        .pp-lit {
            color: #FACD22;
        }
        .pp-mix {
            color: #ff0040;
            cursor: pointer;
        }
        .pp-tag {
            color: #77f328;
        }
        .pp-atn {
            color: #E0E2E4;
        }
        .pp-atv {
            color: #EC7600;
        }
        .pp-expr {
            color: #f3e877;
        }
        .pp-fun {
            color: red;
        }
        .pp-arg {
            color: yellow;
        }
        pre {
            margin: 0;
            padding: 0;
        }
        pre.prettyprint {
            font-size: 1rem;
            overflow: auto;
            background: #2B3A42;
            font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
            text-align: left;
            white-space: pre;
            word-spacing: normal;
            word-break: normal;
            word-wrap: normal;
            line-height: 1.3;
            tab-size: 4;
            hyphens: none;
        }
        pre.prettyprint ol {
            padding-left: 2rem;
        }
        .L0, .L1, .L2, .L3, .L4, .L5, .L6, .L7, .L8, .L9 {
            color: #777;
            margin-left: 0.3rem;
            padding-left: 0.3rem;
            list-style-type: decimal;
        }
        .L1, .L3, .L5, .L7, .L9 {
            background: #2A3941;
        }
        .prettyprint-js {
            background: #fff;
        }
        .J1, .J3, .J5, .J7, .J9 {
            background: #ddd;
        }
        .linenums {
            color: #fff;
        }
        @media screen and (max-width: 1028px) {
            .pp-pln {
                color: #FFF;
            }
            pre.prettyprint {
                padding: 1.2rem;
                border-left: 5px solid #999;
                font-size: 2rem;
                line-height: 3rem;
                overflow: auto;
            }
        }
        
    </style>
</head>
<body>
    <div class="doc-container">
        <article>
            <div class="doc-title">
                ITTF documents</div>
            <div class="doc-summary">
                <p>ITTF documents are the source files of the Wizzi Factory. ITTF stands for Indented Text Tree Format, a human-friendly text format for representing a tree data structure of node names and values.</p>
                <div class='ittf-panel'>
                <div class='ittf-panel-title'>Sample ITTF document</div>
                <pre class='prettyprint'><code>
                <div><div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-tag">html</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">  </span><span class="pp-tag">body</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">ul</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">      </span><span class="pp-tag">li</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">        </span><span class="pp-tag">a</span><span class="pp-pln"> The Wizzi Factory</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">          </span><span class="pp-tag">href</span><span class="pp-pln"> https://wizzifactory.github.io</span></div></div>
                </code></pre></div>
                <p>Every line is a node consisting of a name-value pair. The name is the first string of chars of the line and is separated from the value by a space or a tab.</p>
                <p>Child nodes are indented to their parent.</p>
                <p>An ITTF document can include or merge others ITTF documents.</p>
                <div class='ittf-panel'>
                <pre class='prettyprint'><code>
                <div><div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-tag">html</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">  </span><span class="pp-tag">body</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-mix frag-to-link-a">header(</span><span class="pp-arg"> &page</span><span class="pp-mix">)</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">    </span><span class="pp-mix frag-to-link-a">content(</span><span class="pp-arg"> &page</span><span class="pp-mix">)</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">    </span><span class="pp-kwd">$include</span><span class="pp-mix frag-to-link-a"> footer</span></div></div>
                </code></pre></div>
                <p>The root node can be a mixer or includer.</p>
                <div class='ittf-panel'>
                <div class='ittf-panel-title'>Root node that mixes its container.</div>
                <pre class='prettyprint'><code>
                <div><div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-mix frag-to-link-a">layout(</span><span class="pp-arg"> Welcome to my site </span><span class="pp-mix">)</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">  </span><span class="pp-kwd">$append</span><span class="pp-pln"> appbar</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">ul</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">      </span><span class="pp-kwd">$foreach</span><span class="pp-pln"> item in menulist</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">        </span><span class="pp-tag">li</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">          </span><span class="pp-tag">a</span><span class="pp-kwd"> ${</span><span class="pp-expr">item.name</span><span class="pp-kwd">}</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">            </span><span class="pp-tag">href</span><span class="pp-kwd"> ${</span><span class="pp-expr">item.path</span><span class="pp-kwd">}</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">  </span><span class="pp-tag">.</span><span class="pp-pln"> wrapper</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">    </span><span class="pp-tag">.</span><span class="pp-pln"> content</span></div></div>
                </code></pre></div>
                <p>An ITTF document is a template and can be merged and interpolated with context data.</p>
                <div class='ittf-panel'>
                <pre class='prettyprint'><code>
                <div><div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-tag">ul</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">  </span><span class="pp-kwd">$foreach</span><span class="pp-pln"> item in site.TopMenu.items</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">li</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">      </span><span class="pp-tag">a</span><span class="pp-kwd"> ${</span><span class="pp-expr">item.label</span><span class="pp-kwd">}</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">        </span><span class="pp-tag">href</span><span class="pp-kwd"> ${</span><span class="pp-expr">item.url</span><span class="pp-kwd">}</span></div></div>
                </code></pre></div>
                <p>Scripts can be used to manipulate nodes.</p>
                <div class='ittf-panel'>
                <pre class='prettyprint'><code>
                <div><div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-tag">div</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">  </span><span class="pp-kwd">$</span><span class="pp-pln"> var i = 0</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">  </span><span class="pp-kwd">$while</span><span class="pp-pln"> i &lt; 5</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">    </span><span class="pp-tag">p</span><span class="pp-pln"> Hello number </span><span class="pp-kwd">${</span><span class="pp-expr">i</span><span class="pp-kwd">}</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">    </span><span class="pp-kwd">$</span><span class="pp-pln"> i++</span></div></div>
                </code></pre></div>
                <p>&nbsp;</p>
                <div class='ittf-panel'>
                <div class='ittf-panel-title'>Sample container ITTF document</div>
                <pre class='prettyprint'><code>
                <div><div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-tag">html</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">  </span><span class="pp-kwd">$params</span><span class="pp-pln"> title</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">  </span><span class="pp-tag">head</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">    </span><span class="pp-tag">title</span><span class="pp-kwd"> ${</span><span class="pp-expr">title</span><span class="pp-kwd">}</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">  </span><span class="pp-tag">body</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">    </span><span class="pp-tag">header</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">      </span><span class="pp-tag">h1</span><span class="pp-kwd"> ${</span><span class="pp-expr">title</span><span class="pp-kwd">}</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">      </span><span class="pp-kwd">$hook</span><span class="pp-pln"> appbar</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">    </span><span class="pp-tag">section</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">      </span><span class="pp-kwd">$hook</span></div></div>
                </code></pre></div>
                <p>&nbsp;</p>
                <ul>ITTF documents are of three kinds
                    <li>primary, the document is the entry item of an ITTF processing.</li>
                    <li>mix, the document can receive parameters and my have hook nodes where to append child nodes of the merger document.</li>
                    <li>include, the document is inserted as is and cannot receive parameters.</li>
                </ul>
                <div class='ittf-panel'>
                <div class='ittf-panel-title'>A sample 'mix' ITTF document.</div>
                <pre class='prettyprint'><code>
                <div><div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-tag">li</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">  </span><span class="pp-kwd">$params</span><span class="pp-pln"> text, href</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">  </span><span class="pp-tag">a</span><span class="pp-kwd"> ${</span><span class="pp-expr">text</span><span class="pp-kwd">}</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">    </span><span class="pp-tag">href</span><span class="pp-kwd"> ${</span><span class="pp-expr">href</span><span class="pp-kwd">}</span></div></div>
                </code></pre></div>
                <div class='ittf-panel'>
                <div class='ittf-panel-title'>A sample 'include' ITTF Document.</div>
                <pre class='prettyprint'><code>
                <div><div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-tag">div</span><span class="pp-pln"> License MIT</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">  </span><span class="pp-tag">span</span><span class="pp-pln"> copy Stefano Bassoli.</span></div></div>
                </code></pre></div>
                <h4>JsWizzi</h4>
                <p>The template engine of the wizzi factory uses a customized subset of the ECMA-262 javascript standard, sandboxed, and tailored for ITTF processing. JsWizzi is built on the <a href="http://esprima.org/">esprima</a> parser and is run by a custom javascript engine (JsWizziRunner).</p>
                <h4>mTrees</h4>
                <p>A document may have semantic and template nodes. Semantic nodes, that can contain interpolation variables, are the document data. Template nodes drive the document composition and its merging with context data and disappear in the final tree structure. The ITTF Processor is agnostic about the content of semantic nodes. It processes template nodes and interpolates semantic node names and values. The result of an ITTF process is a tree data structure of semantic nodes that must have a single root node.</p>
                <p>The tree data structure resulting from an ITTF processing is a javascript object named `mTree`.</p>
                <h4>Document types</h4>
                <p>Documents become usefull when they target a specific domain. Domain specific schemas can be applied to the result of an ITTF processing, see <a href="#concept-4">Wizzi Schemas</a>. The name of the Wizzi Schema that is applyed to an ITTF Document is said to be the type of the document. An ITTF document of type `js` is a document designed to be validated by the `js` Wizzi Schema.</p>
                <p>Each development team may create its own document types or use those already availables, see <a href="#concept-9">Wizzi Plugins</a>.</p>
                <h4>Document file name and extension</h4>
                <p>An ITTF document must have extension '.ittf' and the extension must be preceded by '.' the name of the Wizzi Schema that describes the document or by '.ittf' again if the document is not typed.</p>
            </div>
        </article>
    </div>
</body>

</html>
